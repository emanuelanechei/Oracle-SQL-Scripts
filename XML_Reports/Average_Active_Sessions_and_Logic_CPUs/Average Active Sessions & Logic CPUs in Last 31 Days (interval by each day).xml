<?xml version="1.0" encoding="UTF-8" ?>
<displays>
<display id="bb9bedd1-017c-1000-8012-0afb000e58c0" type="" style="Chart" enable="true">
	<name><![CDATA[Average Active Sessions & Logic CPUs in Last 31 Days (interval by each day)]]></name>
	<description><![CDATA[]]></description>
	<tooltip><![CDATA[Average Active Sessions & Logic CPUs in Last 31 Days (interval by each day)]]></tooltip>
	<drillclass><![CDATA[]]></drillclass>
	<CustomValues>
		<XAXIS_TICK_LABEL_SKIP_COUNT><![CDATA[1]]></XAXIS_TICK_LABEL_SKIP_COUNT>
		<Y1AXIS_TITLE_TEXT><![CDATA[The Numbers with Value]]></Y1AXIS_TITLE_TEXT>
		<Y2AXIS_SCALE_MAXIMUM><![CDATA[80.0]]></Y2AXIS_SCALE_MAXIMUM>
		<Y1AXIS_LOGARITHMIC_SCALE><![CDATA[true]]></Y1AXIS_LOGARITHMIC_SCALE>
		<LEGEND_LOCATION><![CDATA[RIGHT]]></LEGEND_LOCATION>
		<PLOT_SERIES_OPTIONS_COLOR><![CDATA[\,-65536,-16742958,-10066279,-16751002,-26368]]></PLOT_SERIES_OPTIONS_COLOR>
		<PLOT_DATALABELS_FONT.SIZE><![CDATA[12]]></PLOT_DATALABELS_FONT.SIZE>
		<Y1AXIS_TITLE_FONT.POSTURE><![CDATA[false]]></Y1AXIS_TITLE_FONT.POSTURE>
		<PLOT_DATALABELS_NUMBER_FORMATS.SCALE_FACTOR><![CDATA[NONE]]></PLOT_DATALABELS_NUMBER_FORMATS.SCALE_FACTOR>
		<DATA_MAP_COLUMNS><![CDATA[\,"SNAP_DATE"]]></DATA_MAP_COLUMNS>
		<TITLE_FONT.POSTURE><![CDATA[false]]></TITLE_FONT.POSTURE>
		<Y1AXIS_NUMBER_FORMATS.TYPE><![CDATA[NUMBER]]></Y1AXIS_NUMBER_FORMATS.TYPE>
		<Y1AXIS_SCALE_MAXIMUM><![CDATA[80.0]]></Y1AXIS_SCALE_MAXIMUM>
		<PLOT_DATALABELS_FONT.NAME><![CDATA[Arial]]></PLOT_DATALABELS_FONT.NAME>
		<XAXIS_TICK_LABEL_ROTATE><![CDATA[HORIZONTAL]]></XAXIS_TICK_LABEL_ROTATE>
		<TYPE><![CDATA[LINE_VERT_ABS]]></TYPE>
		<PLOT_DATALABELS_FONT.POSTURE><![CDATA[false]]></PLOT_DATALABELS_FONT.POSTURE>
		<XAXIS_TITLE_FONT.WEIGHT><![CDATA[true]]></XAXIS_TITLE_FONT.WEIGHT>
		<STYLE><![CDATA[Default]]></STYLE>
		<TITLE_ALIGNMENT><![CDATA[CENTER]]></TITLE_ALIGNMENT>
		<Y1AXIS_TITLE_FONT.NAME><![CDATA[Arial]]></Y1AXIS_TITLE_FONT.NAME>
		<Y1AXIS_TITLE_FONT.SIZE><![CDATA[12]]></Y1AXIS_TITLE_FONT.SIZE>
		<TITLE_TEXT><![CDATA[Average Active Sessions & Logic CPUs in Last 31 Days (interval by each day)]]></TITLE_TEXT>
		<Y1AXIS_TICK_LABEL_FONT.WEIGHT><![CDATA[false]]></Y1AXIS_TICK_LABEL_FONT.WEIGHT>
		<Y2AXIS_TICK_LABEL_ROTATE><![CDATA[HORIZONTAL]]></Y2AXIS_TICK_LABEL_ROTATE>
		<Y1AXIS_NUMBER_FORMATS.NEGATIVE_NUMBER_FORMAT><![CDATA[BRACKETED]]></Y1AXIS_NUMBER_FORMATS.NEGATIVE_NUMBER_FORMAT>
		<PLOT_SERIES_OPTIONS_LINE_WIDTH><![CDATA[\,THIN,THIN,THIN,THIN,THIN]]></PLOT_SERIES_OPTIONS_LINE_WIDTH>
		<XAXIS_TITLE_FONT.COLOR><![CDATA[-9144422]]></XAXIS_TITLE_FONT.COLOR>
		<Y2AXIS_LINE_WIDTH><![CDATA[THINNEST]]></Y2AXIS_LINE_WIDTH>
		<TITLE_FONT.UNDERLINE><![CDATA[false]]></TITLE_FONT.UNDERLINE>
		<Y1AXIS_TICK_LABEL_ROTATE><![CDATA[HORIZONTAL]]></Y1AXIS_TICK_LABEL_ROTATE>
		<TITLE_FONT.NAME><![CDATA[Arial]]></TITLE_FONT.NAME>
		<PLOT_DATALABELS_NUMBER_FORMATS.TYPE><![CDATA[NUMBER]]></PLOT_DATALABELS_NUMBER_FORMATS.TYPE>
		<XAXIS_TITLE_FONT.POSTURE><![CDATA[false]]></XAXIS_TITLE_FONT.POSTURE>
		<XAXIS_TITLE_TEXT><![CDATA[Snap Date]]></XAXIS_TITLE_TEXT>
		<PLOT_HGRID_WIDTH><![CDATA[THINNER]]></PLOT_HGRID_WIDTH>
		<TITLE_FONT.COLOR><![CDATA[-12565927]]></TITLE_FONT.COLOR>
		<TITLE_FONT.SIZE><![CDATA[12]]></TITLE_FONT.SIZE>
		<XAXIS_TICK_LABEL_AUTO_ROTATE><![CDATA[false]]></XAXIS_TICK_LABEL_AUTO_ROTATE>
		<Y1AXIS_SCALE_INCREMENT><![CDATA[10.0]]></Y1AXIS_SCALE_INCREMENT>
		<Y1AXIS_LINE_WIDTH><![CDATA[THINNEST]]></Y1AXIS_LINE_WIDTH>
		<Y1AXIS_TITLE_ALIGNMENT><![CDATA[RIGHT]]></Y1AXIS_TITLE_ALIGNMENT>
		<PLOT_DATALABELS_NUMBER_FORMATS.CURRENCY_SYMBOL><![CDATA[DOLLARS]]></PLOT_DATALABELS_NUMBER_FORMATS.CURRENCY_SYMBOL>
		<LEGEND_FONT.SIZE><![CDATA[11]]></LEGEND_FONT.SIZE>
		<Y1AXIS_TICK_LABEL_FONT.COLOR><![CDATA[-12565927]]></Y1AXIS_TICK_LABEL_FONT.COLOR>
		<LEGEND_ALIGNMENT><![CDATA[LEFT]]></LEGEND_ALIGNMENT>
		<XAXIS_LINE_WIDTH><![CDATA[THINNEST]]></XAXIS_LINE_WIDTH>
		<Y1AXIS_TICK_LABEL_FONT.POSTURE><![CDATA[false]]></Y1AXIS_TICK_LABEL_FONT.POSTURE>
		<XAXIS_TITLE_ALIGNMENT><![CDATA[RIGHT]]></XAXIS_TITLE_ALIGNMENT>
		<LEGEND_FONT.POSTURE><![CDATA[false]]></LEGEND_FONT.POSTURE>
		<Y1AXIS_TICK_LABEL_FONT.NAME><![CDATA[Arial]]></Y1AXIS_TICK_LABEL_FONT.NAME>
		<PLOT_DATALABELS><![CDATA[false]]></PLOT_DATALABELS>
		<LEGEND_FONT.NAME><![CDATA[Arial]]></LEGEND_FONT.NAME>
		<Y1AXIS_LOGARITHMIC_BASE><![CDATA[BASE_2]]></Y1AXIS_LOGARITHMIC_BASE>
		<GRID_WIDTH><![CDATA[THINNER]]></GRID_WIDTH>
		<FOOTNOTE_ALIGNMENT><![CDATA[LEFT]]></FOOTNOTE_ALIGNMENT>
		<LEGEND_FONT.COLOR><![CDATA[-12565927]]></LEGEND_FONT.COLOR>
		<PLOT_DATALABELS_FONT.UNDERLINE><![CDATA[false]]></PLOT_DATALABELS_FONT.UNDERLINE>
		<XAXIS_TICK_LABEL_SKIP_MODE><![CDATA[MANUAL]]></XAXIS_TICK_LABEL_SKIP_MODE>
		<Y1AXIS_NUMBER_FORMATS.SCALE_FACTOR><![CDATA[NONE]]></Y1AXIS_NUMBER_FORMATS.SCALE_FACTOR>
		<Y1AXIS_NUMBER_FORMATS.CURRENCY_SYMBOL><![CDATA[DOLLARS]]></Y1AXIS_NUMBER_FORMATS.CURRENCY_SYMBOL>
		<LEGEND_FONT.UNDERLINE><![CDATA[false]]></LEGEND_FONT.UNDERLINE>
		<Y1AXIS_TICK_LABEL_FONT.SIZE><![CDATA[12]]></Y1AXIS_TICK_LABEL_FONT.SIZE>
		<DATA_MAP_COLNAMES><![CDATA[\,"SNAP_DATE","STAT_NAME","STAT_VALUE"]]></DATA_MAP_COLNAMES>
		<PLOT_DATALABELS_NUMBER_FORMATS.NEGATIVE_NUMBER_FORMAT><![CDATA[BRACKETED]]></PLOT_DATALABELS_NUMBER_FORMATS.NEGATIVE_NUMBER_FORMAT>
		<DATA_MAP_SERIES><![CDATA[\,"STAT_NAME"]]></DATA_MAP_SERIES>
		<Y2AXIS_LOGARITHMIC_BASE><![CDATA[BASE_10]]></Y2AXIS_LOGARITHMIC_BASE>
		<LEGEND_FONT.WEIGHT><![CDATA[false]]></LEGEND_FONT.WEIGHT>
		<TITLE_FONT.WEIGHT><![CDATA[true]]></TITLE_FONT.WEIGHT>
		<PLOT_DATALABELS_NUMBER_FORMATS.DECIMAL_PLACES><![CDATA[2]]></PLOT_DATALABELS_NUMBER_FORMATS.DECIMAL_PLACES>
		<XAXIS_TITLE_FONT.UNDERLINE><![CDATA[false]]></XAXIS_TITLE_FONT.UNDERLINE>
		<Y2AXIS_SCALE_MINIMUM><![CDATA[10.0]]></Y2AXIS_SCALE_MINIMUM>
		<XAXIS_TITLE><![CDATA[true]]></XAXIS_TITLE>
		<Y1AXIS_TICK_LABEL_FONT.UNDERLINE><![CDATA[false]]></Y1AXIS_TICK_LABEL_FONT.UNDERLINE>
		<Y1AXIS_TITLE_FONT.COLOR><![CDATA[-9144422]]></Y1AXIS_TITLE_FONT.COLOR>
		<Y1AXIS_NUMBER_FORMATS.DECIMAL_PLACES><![CDATA[2]]></Y1AXIS_NUMBER_FORMATS.DECIMAL_PLACES>
		<PLOT_DATALABELS_FONT.COLOR><![CDATA[-12895429]]></PLOT_DATALABELS_FONT.COLOR>
		<DATA_MAP_VALUES><![CDATA[\,"STAT_VALUE"]]></DATA_MAP_VALUES>
		<XAXIS_TITLE_FONT.NAME><![CDATA[Arial]]></XAXIS_TITLE_FONT.NAME>
		<PLOT_DATALABELS_FONT.WEIGHT><![CDATA[false]]></PLOT_DATALABELS_FONT.WEIGHT>
		<Y1AXIS_TITLE_FONT.WEIGHT><![CDATA[true]]></Y1AXIS_TITLE_FONT.WEIGHT>
		<TITLE><![CDATA[true]]></TITLE>
		<XAXIS_TITLE_FONT.SIZE><![CDATA[12]]></XAXIS_TITLE_FONT.SIZE>
		<Y1AXIS_TITLE><![CDATA[true]]></Y1AXIS_TITLE>
		<Y2AXIS_SCALE_INCREMENT><![CDATA[20.0]]></Y2AXIS_SCALE_INCREMENT>
		<PLOT_VGRID_WIDTH><![CDATA[THINNER]]></PLOT_VGRID_WIDTH>
		<PLOT_SERIES_OPTIONS_MARKER_SHAPE><![CDATA[\,SQUARE,SQUARE,SQUARE,SQUARE,SQUARE]]></PLOT_SERIES_OPTIONS_MARKER_SHAPE>
		<Y2AXIS_TITLE_ALIGNMENT><![CDATA[CENTER]]></Y2AXIS_TITLE_ALIGNMENT>
		<Y1AXIS_TITLE_FONT.UNDERLINE><![CDATA[false]]></Y1AXIS_TITLE_FONT.UNDERLINE>
		<SUBTITLE_ALIGNMENT><![CDATA[LEFT]]></SUBTITLE_ALIGNMENT>
	</CustomValues>
	<query>
		<sql><![CDATA[WITH aas_per_hour AS
(
  SELECT snap_id
       , dbid
       , instance_number
       , TO_CHAR(end_time, 'yyyy-mm-dd') snap_date
       , metric_name
       , average
  FROM dba_hist_sysmetric_summary
  WHERE metric_name = 'Average Active Sessions'
  AND   end_time >= SYSDATE - 30
),
aas AS
(
  SELECT snap_date                                    -- the group column
       , metric_name                                  -- the series column
       , ROUND(SUM(average)/COUNT(snap_date), 2) aas  -- the value column
  FROM aas_per_hour
  GROUP BY snap_date
         , metric_name
),
oscpu AS
(
  SELECT snap_id
       , dbid
       , instance_number
       , stat_name
       , value
  FROM dba_hist_osstat
  WHERE stat_name = 'NUM_CPUS'
)
SELECT DISTINCT s.snap_date                                     -- the group column
     , DECODE(u.stat_name, 'NUM_CPUS', 'Logic CPUs') stat_name  -- the series column
     , u.value stat_value                                       -- the value column
FROM aas_per_hour s
   , oscpu u
WHERE s.snap_id = u.snap_id
AND   s.dbid = u.dbid
AND   s.instance_number = u.instance_number
UNION ALL
SELECT snap_date              -- the group column
     , metric_name stat_name  -- the series column
     , aas stat_value         -- the value column
FROM aas
ORDER BY stat_name DESC
       , snap_date]]></sql>
	</query>
</display>
</displays>